- [x] git pull and check already done stuff
- [x] get last log term is wrong, it should take an u64 and return its term
- [ ] maybe log errors from try sends
- [x] use append entries reply.last_log_index e non messages len
- [x] two functions for committing log entries up to commit index: one with buffer (no option) and one without
- [x] don't clone the sender every time, use a vec<Sender, u64>, where the u64 is initially the request's log entries len decreasing the u64 every time the channel is used and discard it when it gets to 0
- [x] return state machine when server guard is dropped, and use it to check that logs are consisent
- [x] prob add leader id to common state